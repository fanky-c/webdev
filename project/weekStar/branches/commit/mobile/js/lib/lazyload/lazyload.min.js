<<<<<<< HEAD
/*!
 * An jQuery | zepto plugin for lazy loading images.
 * author -> jieyou
 * see https://github.com/jieyou/lazyload
 * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)
 * use component's throttle https://github.com/component/throttle (MIT)
 */
!function(a){"function"==typeof define&&define.amd?define(["jQuery"],a):a(window.jQuery||window.zepto)}(function(a,b){function g(){}function h(a,b){var e;return e=b._$container==d?("innerHeight"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f=e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function j(a,b){var c;return c=b._$container==d?d.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d,e){function g(){f.trigger("_lazyload_appear"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||"none"===f.css("display")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b,c){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:c,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace("[object ","").replace("]","")}}(),a.fn.hasOwnProperty("lazyload")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){-1!=a.inArray(g,["threshold","failure_limit","check_appear_throttle_time"])?"String"==f(b[g])?b[g]=parseInt(b[g],10):b[g]=h:"container"==g?(b.hasOwnProperty(g)?b[g]==c||b[g]==document?b._$container=d:b._$container=a(b[g]):b._$container=d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&f(b[g])==f(e[g])||(b[g]=h)}),i="scroll"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||"scrollstart"==b.event||"scrollstop"==b.event,h.each(function(c,d){var e=this,f=h.eq(c),i=f.attr("src"),k=f.attr("data-"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr("data-"+b.data_srcset_attribute),o=f.is("img");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,void(h=m(h))):(f._lazyload_loadStarted=!1,o&&!i&&f.one("error",function(){f.attr("src",b.placeholder_real_img)}).attr("src",b.placeholder_data_img),f.one("_lazyload_appear",function(){function i(){d&&f.hide(),o?(n&&f.attr("srcset",n),l&&f.attr("src",l)):f.css("background-image",'url("'+l+'")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d="show"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one("load",function(){b.load.call(e,f,h.length,b)}),i()):a("<img />").one("load",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr("src",l))}),void(j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger("_lazyload_appear")})))}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on("resize load",function(){k(h,b)}),a(function(){k(h,b)}),this})});
=======
!function(t){"function"==typeof define&&define.amd?define(["jQuery"],t):t(window.jQuery||window.zepto)}(function(t,e){function a(){}function r(t,e){var a;return a=e._$container==d?("innerHeight"in s?s.innerHeight:d.height())+d.scrollTop():e._$container.offset().top+e._$container.height(),a<=t.offset().top-e.threshold}function n(e,a){var r;return r=a._$container==d?d.width()+(t.fn.scrollLeft?d.scrollLeft():s.pageXOffset):a._$container.offset().left+a._$container.width(),r<=e.offset().left-a.threshold}function o(t,e){var a;return a=e._$container==d?d.scrollTop():e._$container.offset().top,a>=t.offset().top+e.threshold+t.height()}function l(e,a){var r;return r=a._$container==d?t.fn.scrollLeft?d.scrollLeft():s.pageXOffset:a._$container.offset().left,r>=e.offset().left+a.threshold+e.width()}function i(t,e){var a=0;t.each(function(i,c){function f(){_.trigger("_lazyload_appear"),a=0}var _=t.eq(i);if(!(_.width()<=0&&_.height()<=0||"none"===_.css("display")))if(e.vertical_only)if(o(_,e));else if(r(_,e)){if(++a>e.failure_limit)return!1}else f();else if(o(_,e)||l(_,e));else if(r(_,e)||n(_,e)){if(++a>e.failure_limit)return!1}else f()})}function c(t){return t.filter(function(e,a){return!t.eq(e)._lazyload_loadStarted})}function f(t,e){function a(){l=0,i=+new Date,o=t.apply(r,n),r=null,n=null}var r,n,o,l,i=0;return function(){r=this,n=arguments;var t=new Date-i;return l||(t>=e?a():l=setTimeout(a,e-t)),o}}var _,s=window,d=t(s),u={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:s,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:a,load:a,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:a,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};_=function(){var t=Object.prototype.toString;return function(e){return t.call(e).replace("[object ","").replace("]","")}}(),t.fn.hasOwnProperty("lazyload")||(t.fn.lazyload=function(e){var r,n,o,l=this;return t.isPlainObject(e)||(e={}),t.each(u,function(a,r){-1!=t.inArray(a,["threshold","failure_limit","check_appear_throttle_time"])?"String"==_(e[a])?e[a]=parseInt(e[a],10):e[a]=r:"container"==a?(e.hasOwnProperty(a)?e[a]==s||e[a]==document?e._$container=d:e._$container=t(e[a]):e._$container=d,delete e.container):!u.hasOwnProperty(a)||e.hasOwnProperty(a)&&_(e[a])==_(u[a])||(e[a]=r)}),r="scroll"==e.event,o=0==e.check_appear_throttle_time?i:f(i,e.check_appear_throttle_time),n=r||"scrollstart"==e.event||"scrollstop"==e.event,l.each(function(r,o){var i=this,f=l.eq(r),_=f.attr("src"),s=f.attr("data-"+e.data_attribute),d=e.url_rewriter_fn==a?s:e.url_rewriter_fn.call(i,f,s),u=f.attr("data-"+e.data_srcset_attribute),h=f.is("img");return 1==f._lazyload_loadStarted||_==d?(f._lazyload_loadStarted=!0,void(l=c(l))):(f._lazyload_loadStarted=!1,h&&!_&&f.one("error",function(){f.attr("src",e.placeholder_real_img)}).attr("src",e.placeholder_data_img),f.one("_lazyload_appear",function(){function r(){n&&f.hide(),h?(u&&f.attr("srcset",u),d&&f.attr("src",d)):f.css("background-image",'url("'+d+'")'),n&&f[e.effect].apply(f,o?e.effect_params:[]),l=c(l)}var n,o=t.isArray(e.effect_params);f._lazyload_loadStarted||(n="show"!=e.effect&&t.fn[e.effect]&&(!e.effect_params||o&&0==e.effect_params.length),e.appear!=a&&e.appear.call(i,f,l.length,e),f._lazyload_loadStarted=!0,e.no_fake_img_loader||u?(e.load!=a&&f.one("load",function(){e.load.call(i,f,l.length,e)}),r()):t("<img />").one("load",function(){r(),e.load!=a&&e.load.call(i,f,l.length,e)}).attr("src",d))}),void(n||f.on(e.event,function(){f._lazyload_loadStarted||f.trigger("_lazyload_appear")})))}),n&&e._$container.on(e.event,function(){o(l,e)}),d.on("resize load",function(){o(l,e)}),t(function(){o(l,e)}),this})});
>>>>>>> 9566897826097956bf2752219a88daed6ce1419b
